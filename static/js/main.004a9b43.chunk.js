(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(e,t,n){e.exports=n(89)},57:function(e,t,n){},58:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(14),c=n.n(r),l=(n(57),n(58),n(23)),i=n(22),u=n(104),s=n(109),p=n(108),d=n(107),m=n(105),g=n(106),f=o.a.createContext({}),b=f.Provider,v=(f.Consumer,f),w=n(39),E=n.n(w),h=Object(u.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper}}});function j(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=h(),l=Object(a.useContext)(v),u=Object(i.a)(l,2),s=u[0];u[1];function p(){window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||n||r(!0)}function d(){E.a.get("https://api.themoviedb.org/3/movie/".concat(s.selected,"?api_key=3d9f6ef05faa3072ee2caf7fb6870964&language=en-US&page=").concat("popular"===s.selected?s.popular.currentPage:"top_rated"===s.selected?s.topRated.currentPage:"now_playing"===s.selected?s.nowPlaying.currentPage:void 0)).then(function(e){s.changeState(s.selected,e.data.results),r(!1)}).catch(function(e){console.log(e)})}return Object(a.useEffect)(function(){r(!0),d()},[s.selected]),Object(a.useEffect)(function(){return window.addEventListener("scroll",p),function(){return window.removeEventListener("scroll",p)}},[]),Object(a.useEffect)(function(){n&&d()},[n]),o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:c.root},o.a.createElement(m.a,{cellHeight:300,cols:5,className:c.gridList},s.popular.movies.map(function(e){return o.a.createElement(g.a,{key:e.id},o.a.createElement("img",{src:"http://image.tmdb.org/t/p/w185/".concat(e.poster_path),alt:e.title}))})),n&&"Fetching more list items..."))}var O=Object(u.a)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}});function P(){var e=O(),t=Object(a.useState)(0),n=Object(i.a)(t,2),r=n[0],c=n[1],u=Object(a.useState)({selected:"popular",movies:[],popular:{currentPage:1,movies:[]},topRated:{currentPage:1,movies:[]},nowPlaying:{currentPage:1,movies:[]},changeState:function(e,t){v(e,t)}}),m=Object(i.a)(u,2),g=m[0],f=m[1],v=function(e,t){switch(e){case"popular":f(Object(l.a)({},g,{popular:{currentPage:g.currentPage++,movies:t}}));break;case"top_rated":f(Object(l.a)({},g,{topRated:{currentPage:g.currentPage++,movies:t}}));break;case"now_playing":f(Object(l.a)({},g,{nowPlaying:{currentPage:g.currentPage++,movies:t}}))}},w=["popular","top_rated","now_playing"];return o.a.createElement(b,{value:[g,f]},o.a.createElement("div",{className:e.root},o.a.createElement(s.a,{position:"static"},o.a.createElement(p.a,{value:r,onChange:function(e,t){c(t),f(Object(l.a)({},g,{selected:w[t]}))}},w.map(function(e){return o.a.createElement(d.a,{label:e})}))),o.a.createElement(j,null)),g&&o.a.createElement("p",null,g.selected))}var k=function(){return o.a.createElement(a.Fragment,null,o.a.createElement(P,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[52,1,2]]]);
//# sourceMappingURL=main.004a9b43.chunk.js.map